<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>6 Public access to objects</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html,2,next,fn-in --> 
<meta name="src" content="manual.tex"> 
<meta name="date" content="2016-05-11 17:25:00"> 
<link rel="stylesheet" type="text/css" href="manual.css"> 
</head><body 
>
   <!--l. 2--><div class="crosslinks"><p class="noindent">[<a 
href="manualch7.html" >next</a>] [<a 
href="manualch5.html" >prev</a>] [<a 
href="manualch5.html#tailmanualch5.html" >prev-tail</a>] [<a 
href="#tailmanualch6.html">tail</a>] [<a 
href="manual.html#manualch6.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;6</span><br /><a 
 id="x8-410006"></a>Public access to objects</h2>
   <h3 class="sectionHead"><span class="titlemark">6.1   </span> <a 
 id="x8-420006.1"></a>Signed URLs</h3>
<!--l. 5--><p class="noindent" >To create a signed URL valid for 24 hours for retrieving the object <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">x</span></span></span> from the
bucket <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">vol1</span></span></span>: <!--l. 6-->
<div class="lstlisting" id="listing-41"><span class="label"><a 
 id="x8-42001r1"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3cmd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">c</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">s3cfg</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">signurl</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">vol1</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#8216;</span><span 
class="ectt-0800x-x-87">date</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">d</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#8217;24</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">hours</span><span 
class="ectt-0800x-x-87">&#8217;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">+%</span><span 
class="ectt-0800x-x-87">s</span><span 
class="ectt-0800x-x-87">&#8216;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">|</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">sed</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">e</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#8217;</span><span 
class="ectt-0800x-x-87">s</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">http</span><span 
class="ectt-0800x-x-87">:/</span><span 
class="ectt-0800x-x-87">https</span><span 
class="ectt-0800x-x-87">:/&#8217;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-42002r2"></a></span><span 
class="ectt-0800x-x-87">https</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">vol1</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">example</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">com</span><span 
class="ectt-0800x-x-87">:8443/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">?</span><span 
class="ectt-0800x-x-87">AWSAccessKeyId</span><span 
class="ectt-0800x-x-87">=</span><span 
class="ectt-0800x-x-87">admin</span><span 
class="ectt-0800x-x-87">&amp;</span><span 
class="ectt-0800x-x-87">Expires</span><span 
class="ectt-0800x-x-87">=1421780366&amp;</span><span 
class="ectt-0800x-x-87">Signature</span><span 
class="ectt-0800x-x-87">=</span><span 
class="ectt-0800x-x-87">uT1uzWiRKOcr</span><span 
class="ectt-0800x-x-87">%2</span><span 
class="ectt-0800x-x-87">F459zjLvmWoMTSg</span><span 
class="ectt-0800x-x-87">%3</span><span 
class="ectt-0800x-x-87">D</span>
   </div>
<!--l. 11--><p class="indent" >   The URL can be pasted into a browser, and used with curl or wget to
download the file without additional authorization. After 24 hours the URL
expires and can&#8217;t be used anymore.
<!--l. 13--><p class="indent" >   There is also a python script as a sample for writing your applications
that would generate signed URLs: <!--l. 15-->
<div class="lstlisting" id="listing-42"><span class="label"><a 
 id="x8-42003r1"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">git</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">clone</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">http</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">git</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">skylable</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">com</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">experimental</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-42004r2"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">cd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">experimental</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">s3genlink</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-42005r3"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">BOTO_CONFIG</span><span 
class="ectt-0800x-x-87">=/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">boto</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">./</span><span 
class="ectt-0800x-x-87">s3genlink</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">py</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">vol1</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span>
   </div>
<!--l. 21--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.2   </span> <a 
 id="x8-430006.2"></a>Public read-only access to objects</h3>
<!--l. 23--><p class="noindent" >Signing URLs can be inconvenient if you want to make all objects in a
bucket publicly accessible. In this case you can enable public access to all
objects in a bucket by setting a bucket policy (replace <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">volpublic</span></span></span> with the
name of your bucket): <!--l. 27-->
<div class="lstlisting" id="listing-43"><span class="label"><a 
 id="x8-43001r1"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">cat</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x003E;</span><span 
class="ectt-0800x-x-87">anon</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">json</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x003C;&#x003C;</span><span 
class="ectt-0800x-x-87">EOF</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43002r2"></a></span><span 
class="ectt-0800x-x-87">{"</span><span 
class="ectt-0800x-x-87">Version</span><span 
class="ectt-0800x-x-87">":"2012-10-17",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43003r3"></a></span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Statement</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">[{</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Sid</span><span 
class="ectt-0800x-x-87">":"</span><span 
class="ectt-0800x-x-87">AddPerm</span><span 
class="ectt-0800x-x-87">",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43004r4"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Effect</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Allow</span><span 
class="ectt-0800x-x-87">",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Principal</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"*",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43005r5"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Action</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">["</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">GetObject</span><span 
class="ectt-0800x-x-87">"],</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43006r6"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Resource</span><span 
class="ectt-0800x-x-87">":["</span><span 
class="ectt-0800x-x-87">arn</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">aws</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">:::</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/*"]}]}</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43007r7"></a></span><span 
class="ectt-0800x-x-87">EOF</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43008r8"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3cmd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">c</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">s3cfg</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">setpolicy</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">anon</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">json</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43009r9"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3cmd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">c</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">s3cfg</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">info</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43010r10"></a></span><span 
class="ectt-0800x-x-87">[...]</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43011r11"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">wget</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">example</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">com</span><span 
class="ectt-0800x-x-87">:8008/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43012r12"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">wget</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">example</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">com</span><span 
class="ectt-0800x-x-87">:8008/</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span>
   </div>
<!--l. 42--><p class="indent" >   To disable public access just delete the policy:
   <!--l. 44-->
<div class="lstlisting" id="listing-44"><span class="label"><a 
 id="x8-43013r1"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3cmd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">c</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">s3cfg</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">delpolicy</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">volpublic</span>
   </div>
<!--l. 48--><p class="indent" >   Note that public/anonymous users can only download individual objects
&#8212; they are not allowed to list the bucket&#8217;s contents.
<!--l. 51--><p class="indent" >   There are some scripts to help managing public buckets: <!--l. 52-->
<div class="lstlisting" id="listing-45"><span class="label"><a 
 id="x8-43014r1"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">git</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">clone</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">http</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">git</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">skylable</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">com</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">experimental</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43015r2"></a></span><span 
class="ectt-0800x-x-87">$</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">cd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">experimental</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">s3publicvol</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43016r3"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">BOTO_CONFIG</span><span 
class="ectt-0800x-x-87">=/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">boto</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">./</span><span 
class="ectt-0800x-x-87">s3publicvol</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">py</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43017r4"></a></span><span 
class="ectt-0800x-x-87">Using</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">key</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">id</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">admin</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43018r5"></a></span><span 
class="ectt-0800x-x-87">Turning</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">on</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">public</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">for</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">bucket</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43019r6"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">BOTO_CONFIG</span><span 
class="ectt-0800x-x-87">=/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">boto</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">./</span><span 
class="ectt-0800x-x-87">s3policy</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">py</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43020r7"></a></span><span 
class="ectt-0800x-x-87">Using</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">key</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">id</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">admin</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43021r8"></a></span><span 
class="ectt-0800x-x-87">Bucket</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">has</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">an</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">policy</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43022r9"></a></span><span 
class="ectt-0800x-x-87">{</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43023r10"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Version</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"2012-10-17",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43024r11"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Statement</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">[</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43025r12"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">{</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43026r13"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Effect</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Allow</span><span 
class="ectt-0800x-x-87">",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43027r14"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Principal</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"*",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43028r15"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Action</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">GetObject</span><span 
class="ectt-0800x-x-87">",</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43029r16"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">Resource</span><span 
class="ectt-0800x-x-87">":</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">"</span><span 
class="ectt-0800x-x-87">arn</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">aws</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">:::</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/*"</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43030r17"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">}</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43031r18"></a></span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">]</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43032r19"></a></span><span 
class="ectt-0800x-x-87">}</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43033r20"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">BOTO_CONFIG</span><span 
class="ectt-0800x-x-87">=/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">boto</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">./</span><span 
class="ectt-0800x-x-87">s3privatevol</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">py</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43034r21"></a></span><span 
class="ectt-0800x-x-87">Using</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">key</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">id</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">admin</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43035r22"></a></span><span 
class="ectt-0800x-x-87">Turning</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">off</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">public</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">for</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">bucket</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43036r23"></a></span><span 
class="ectt-0800x-x-87">#</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">BOTO_CONFIG</span><span 
class="ectt-0800x-x-87">=/</span><span 
class="ectt-0800x-x-87">etc</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">libres3</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">sample</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">boto</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">./</span><span 
class="ectt-0800x-x-87">s3policy</span><span 
class="ectt-0800x-x-87">.</span><span 
class="ectt-0800x-x-87">py</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">x</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43037r24"></a></span><span 
class="ectt-0800x-x-87">Using</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">access</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">key</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">id</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">admin</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><br /><span class="label"><a 
 id="x8-43038r25"></a></span><span 
class="ectt-0800x-x-87">Bucket</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">volpublic</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">is</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">private</span>
   </div>
<!--l. 80--><p class="indent" >   Note that using ACLs to set individual objects as publicly accessible is
not supported.
                                                                 

                                                                 
<!--l. 83--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.3   </span> <a 
 id="x8-440006.3"></a>Setting Content-Type, Cache-Control and other headers</h3>
<!--l. 85--><p class="noindent" >When uploading an object the following headers can be set:
<!--l. 87--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Cache-Control</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Content-Disposition</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Content-Encoding</span></span></span>, <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Expires</span></span></span>, and
<span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Content-Type</span></span></span>.
<!--l. 90--><p class="indent" >   When downloading an object (either authenticated or from a public
bucket), LibreS3 will send these customized header values if they are set.
Therefore an object&#8217;s Content-Type on download will match the value used
on upload via LibreS3. If you use <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">s3cmd</span></span></span> to upload or copy your files the
<span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Content-Type</span></span></span> will be determined correctly in most cases, but you can
override it with <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">--mime-type=</span></span></span>. For files uploaded via S<sup class="textsuperscript"><span 
class="ec-qbkr-x-x-90">X</span></sup> the <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Content-Type</span></span></span> is
guessed automatically based on file extension.
<!--l. 100--><p class="indent" >   You can modify the headers of already uploaded files: <!--l. 101-->
<div class="lstlisting" id="listing-46"><span class="label"><a 
 id="x8-44001r1"></a></span><span 
class="ectt-0800x-x-87">s3cmd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">modify</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">--</span><span 
class="ectt-0800x-x-87">add</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">header</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#8217;</span><span 
class="ectt-0800x-x-87">Cache</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">Control</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">max</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">age</span><span 
class="ectt-0800x-x-87">=86400&#8217;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">bucket</span><span 
class="ectt-0800x-x-87">/</span><span 
class="ectt-0800x-x-87">object</span>
   </div>
<!--l. 105--><p class="indent" >   If you want to set a header for all currently existing objects in a bucket:
<!--l. 106-->
<div class="lstlisting" id="listing-47"><span class="label"><a 
 id="x8-44002r1"></a></span><span 
class="ectt-0800x-x-87">s3cmd</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">modify</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">--</span><span 
class="ectt-0800x-x-87">add</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">header</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">&#8217;</span><span 
class="ectt-0800x-x-87">Cache</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">Control</span><span 
class="ectt-0800x-x-87">:</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">max</span><span 
class="ectt-0800x-x-87">-</span><span 
class="ectt-0800x-x-87">age</span><span 
class="ectt-0800x-x-87">=86400&#8217;</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">s3</span><span 
class="ectt-0800x-x-87">://</span><span 
class="ectt-0800x-x-87">bucket</span><span 
class="ectt-0800x-x-87">&#x00A0;</span><span 
class="ectt-0800x-x-87">--</span><span 
class="ectt-0800x-x-87">recursive</span>
   </div>
<!--l. 110--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.4   </span> <a 
 id="x8-450006.4"></a>Virtual hosting for public buckets</h3>
<!--l. 113--><p class="noindent" >Using a FQDN as bucket name (see&#x00A0;<a 
href="manualch5.html#x7-350005.1">5.1<!--tex4ht:ref: sec:virtualhosting --></a>) can be useful if you want to host a
website through HTTP. All public bucket features are supported with virtual
hosted buckets.
<!--l. 116--><p class="indent" >   Note that when using TLS LibreS3 will still serve its self-signed wildcard
certificate for <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">*.libres3.example.com</span></span></span> even with virtual hosted buckets, so
this is not suitable for serving a website over TLS.
<!--l. 118--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.5   </span> <a 
 id="x8-460006.5"></a>Streaming videos</h3>
<!--l. 121--><p class="noindent" >Using  LibreS3&#8217;s  range  request
support<span class="footnote-mark"><a 
href="#fn1x6" id="fn1x6-bk"><sup class="textsuperscript">1</sup></a></span><a 
 id="x8-46001f1"></a>,
a web browser or media player can play videos directly from a LibreS3
public bucket, and the clients can efficiently seek to a particular position in
the video!
<!--l. 125--><p class="indent" >   Note that the file must be fully uploaded and its size known before
streaming can begin, so this won&#8217;t work for live video streams.
                                                                 

                                                                 
<!--l. 128--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.6   </span> <a 
 id="x8-470006.6"></a>Directory indexing</h3>
<!--l. 130--><p class="noindent" >A public bucket only allows accessing files directly by name, if you try to
access the root of the bucket or a &#8220;directory&#8221; then you get an error message
in XML.
<!--l. 134--><p class="indent" >   Although the S3 API doesn&#8217;t provide this feature directly (static website
mode would allow a static <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">index.html</span></span></span> only), you can enable directory listing
for public buckets in LibreS3 by adding the following to <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">libres3.conf</span></span></span> and
restarting LibreS3 (please make sure all LibreS3 instances get updated):
<!--l. 138-->
<div class="lstlisting" id="listing-48"><span class="label"><a 
 id="x8-47001r1"></a></span><span 
class="ectt-0800x-x-87">allow_public_bucket_index</span><span 
class="ectt-0800x-x-87">=</span><span 
class="ectt-0800x-x-87">true</span>
   </div>
<!--l. 142--><p class="indent" >   As long as you access the buckets using virtual hosted style (see&#x00A0;<a 
href="#x8-450006.4">6.4<!--tex4ht:ref: sec:pubvirtualhosting --></a>)
you will be able to navigate the directory listing of the bucket directly from
your web browser by just opening the root of the bucket:
                                                                 

                                                                 
   <div class="verbatim" id="verbatim-1">
http://volpublic.libres3.example.com:8008/
</div>
<!--l. 147--><p class="nopar" >
<!--l. 149--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.7   </span> <a 
 id="x8-480006.7"></a>Query parameters</h3>
<!--l. 151--><p class="noindent" >LibreS3 ignores any query parameters in GET that are not part of a known
S3 API (<span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">acl</span></span></span>,<span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">cors</span></span></span>,&#x2026;).
<!--l. 154--><p class="indent" >   Some websites use a query parameter in the URL of images/scripts
accessed from an HTML file to make sure that the new/up-to-date version
is used instead of an old cached version. LibreS3 supports that, however it
would probably be more reliable to change the filename of those
assets each time they are modified (e.g.&#x00A0;by <a 
href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching#invalidating-and-updating-cached-responses" >embedding its hash in the
name</a>).
<!--l. 160--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.8   </span> <a 
 id="x8-490006.8"></a>Using caching proxy or web accelerator</h3>
<!--l. 162--><p class="noindent" >LibreS3 sends an <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">ETag</span></span></span> header for each file based on the coresponding S<sup class="textsuperscript"><span 
class="ec-qbkr-x-x-90">X</span></sup>
file&#8217;s revision. This uniquely identifies the file across the cluster and is
guaranteed to change every time you upload a new file. A <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">Last-Modified</span></span></span>
header is also sent for files.
<!--l. 167--><p class="indent" >   These two headers should already be sufficient to use a caching
proxy or a web accelerator (such as Varnish), however for better
results you should also set <a 
href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching#defining-optimal-cache-control-policy" >Cache-Control headers</a> with a <span class="obeylines-h"><span class="verb"><span 
class="ectt-1000">max-age</span></span></span>,
see&#x00A0;<a 
href="#x8-440006.3">6.3<!--tex4ht:ref: sec:setting-headers --></a>.
                                                                 

                                                                 
   <div class="footnotes"><!--l. 121--><p class="indent" >     <span class="footnote-mark"><a 
href="#fn1x6-bk" id="fn1x6"><sup class="textsuperscript">1</sup></a></span><span 
class="ec-qbkr-x-x-80">see</span><span 
class="ec-qbkr-x-x-80">&#x00A0;</span><a 
href="manualch5.html#x7-360005.2"><span 
class="ec-qbkr-x-x-80">5.2</span><!--tex4ht:ref: sec:streaming --></a>                                                                                                             </div>
<!--l. 2--><div class="crosslinks"><p class="noindent">[<a 
href="manualch7.html" >next</a>] [<a 
href="manualch5.html" >prev</a>] [<a 
href="manualch5.html#tailmanualch5.html" >prev-tail</a>] [<a 
href="manualch6.html" >front</a>] [<a 
href="manual.html#manualch6.html" >up</a>] </p></div>
<!--l. 2--><p class="indent" >   <a 
 id="tailmanualch6.html"></a>   
</body></html> 
